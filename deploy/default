# Iris Annotation Tool
# iris.conf

# the upstream component nginx needs to connect to
#upstream django {
    # server unix:///path/to/your/mysite/mysite.sock; # for a file socket
#    server 127.0.0.1:8001; # for a web port socket (we'll use this first)
#}

# configuration of the server
server {

    # the port your site will be served on
    listen      80;

    # the domain name it will serve for
    server_name jarviscore.resnet.nd.edu; # substitute your machine's IP address or FQDN
    charset     utf-8;

    # logs
    access_log /var/log/nginx/iris.access.log;
    error_log /var/log/nginx/iris.error.log debug;

    # max upload size
    client_max_body_size 75M;   # adjust to taste

    # dataset static files
    #location /static/data {
    #    root /var/www/iris/dataset;
    #    autoindex on;
    #    expires +1d;
    #}

    # common static files
    location /static {
        root /var/www/iris/common;
        autoindex on;
        expires +1h;
    }

    # send dynamic requests to Django
    location / {
        # uwsgi_pass  django;
        # include     /path/to/your/mysite/uwsgi_params; # the uwsgi_params file you installed
        proxy_pass http://unix:/tmp/iris.sock;   # gunicorn process
        # proxy_pass 127.0.0.1:8000; # web port socket
    }
}

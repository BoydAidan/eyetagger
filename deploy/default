# Iris Annotation Tool
# iris.conf

# configuration of the server
server {

    # the port your site will be served on
    listen      80;

    # the domain name it will serve for
    server_name 134.122.12.146;     # substitute your machine's IP address or FQDN
    charset     utf-8;

    # logs
    access_log /var/log/nginx/iris.access.log;
    error_log /var/log/nginx/iris.error.log debug;

    # max upload size
    client_max_body_size 75M;   # adjust to taste

    # dataset static files
    #location /static/data {
    #    root /var/www/iris/dataset;
    #    autoindex on;
    #    expires +1d;
    #}

    # common static files
    location /static {
        root /var/www/iris/common;
        autoindex on;
        expires +1h;
    }

    # send dynamic requests to Django
    location / {
        proxy_pass http://unix:/tmp/iris.sock;   # gunicorn process
    }
}
